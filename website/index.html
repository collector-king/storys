<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Simple Website</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <h1>Welcome to My Website</h1>

    <!-- Login Section (visible on all pages) -->
    <section id="auth-section">
        <h2>Login or Sign Up</h2>
        <form id="auth-form">
            <input type="text" id="username" placeholder="Username" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="button" onclick="signUp()">Sign Up</button>
            <button type="button" onclick="login()">Login</button>
        </form>
        <button id="logout" style="display: none;" onclick="logout()">Logout</button>
        <p id="auth-message"></p>
    </section>

    <p id="nav-intro" style="display: block;">Here's a list of sections:</p>
    <ul id="nav-list" style="display: block;">
        <li><a href="/stories">Stories</a></li>
        <li><a href="/memes">Memes</a></li>
    </ul>

    <section id="stories" style="display: block;">
        <h2>Stories</h2>
        <div id="stories-list"></div>
        <form id="story-form" style="display: none;">
            <h3>Post a Story</h3>
            <textarea id="story-content" placeholder="Your story..." required></textarea>
            <button type="button" onclick="postStory()">Post Story</button>
        </form>
    </section>

    <section id="memes" style="display: block;">
        <h2>Memes</h2>
        <div id="memes-list"></div>
        <form id="meme-form" style="display: none;">
            <h3>Post a Meme</h3>
            <input type="text" id="meme-url" placeholder="Meme image URL" required>
            <textarea id="meme-caption" placeholder="Caption (optional)"></textarea>
            <button type="button" onclick="postMeme()">Post Meme</button>
        </form>
    </section>

    <script>
        // Your Firebase config and auth/post/load functions remain the sameâ€”paste them here
        const firebaseConfig = {
            // YOUR ACTUAL CONFIG HERE
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const FAKE_DOMAIN = 'fake.com';

        // Auth state listener (unchanged)
        auth.onAuthStateChanged((user) => {
            // ... (your existing code) ...
            loadStories();
            loadMemes();
        });

        // signUp, login, logout, postStory, postMeme, loadStories, loadMemes functions (unchanged)
        // ... paste them here ...

        // New: Handle "routing" based on path
        function handleRouting() {
            const path = window.location.pathname;
            const storiesSection = document.getElementById('stories');
            const memesSection = document.getElementById('memes');
            const navIntro = document.getElementById('nav-intro');
            const navList = document.getElementById('nav-list');

            if (path === '/stories') {
                storiesSection.style.display = 'block';
                memesSection.style.display = 'none';
                navIntro.style.display = 'none';
                navList.style.display = 'none';
            } else if (path === '/memes') {
                storiesSection.style.display = 'none';
                memesSection.style.display = 'block';
                navIntro.style.display = 'none';
                navList.style.display = 'none';
            } else {
                // Default '/' shows everything
                storiesSection.style.display = 'block';
                memesSection.style.display = 'block';
                navIntro.style.display = 'block';
                navList.style.display = 'block';
            }
        }

        // Call on load
        handleRouting();

        // Load content (always load both, but visibility is controlled)
        loadStories();
        loadMemes();
    </script>
</body>
</html>
